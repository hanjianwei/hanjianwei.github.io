<!doctype html><html lang=en-us><head><title>Webpack: 为Web开发而生的模块管理器 - Stone Horse</title><meta http-equiv=x-ua-compatible content="ie=edge"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://hanjianwei.com/style.css></head><body><div class=container><header><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Archives</a></li><li><a href=/tags>Tags</a></li></ul></nav></header><main><div class=post><article><h1>Webpack: 为Web开发而生的模块管理器</h1><time>Sep 10, 2014</time><p><p>对于开发人员而言，好的包管理器可以让工作事半功倍。现在流行的编程语言大多有自己的<a href=http://blogs.atlassian.com/2014/04/git-project-dependencies/#GitAndProjectDependencies-Firstchoice:useanappropriatebuild/dependencytoolinsteadofgit>包管理系统</a>。近年来，Web开发越来越火，其开发工具也随之越来越好用了，而<a href=http://webpack.github.io>Webpack</a>就是一款专为Web开发设计的包管理器。它能够很好地管理、打包Web开发中所用到的HTML、Javascript、CSS以及各种静态文件（图片、字体等），让开发过程更加高效。</p><h3 id=模块化编程>模块化编程</h3><p>长久以来，Web开发者都是把所需Javascript、CSS文件一股脑放进HTML里面，对于庞大的项目来说管理起来非常麻烦。<a href=http://nodejs.org>Node.js</a>的出现改变了这种状态，虽然Javascript的模块并非Node.js发明，但确实是它把这个概念发扬光大了。</p><p>但Node.js毕竟是用于服务端的，为了将模块化技术用于浏览器，人们又造出了一大堆工具：<a href=http://requirejs.org>RequireJS</a>、<a href=http://browserify.org>Browserify</a>、<a href=http://labjs.com>LABjs</a>、<a href=http://seajs.org/docs/>Sea.js</a>、<a href=http://duojs.org>Duo</a>等。同时，由于Javascript的标准没有对模块的规范进行定义，人们又定义了一系列不同的模块定义：<a href=https://en.wikipedia.org/wiki/CommonJS>CommonJS</a>、<a href=https://github.com/amdjs/amdjs-api/wiki/AMD>AMD</a>、<a href=https://github.com/seajs/seajs/issues/242>CMD</a>、<a href=https://github.com/umdjs/umd>UMD</a>等。这真是一件令人悲伤的事情，希望ES6 Module的出现能中止这种分裂的状态。</p><p>Webpack同时支持CommonJS和AMD形式的模块，对于不支持的模块格式，还支持对模块进行<a href=http://webpack.github.io/docs/shimming-modules.html>shimming</a>。举个简单的例子：</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// content.js
</span><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=s2>&#34;It works from content.js.&#34;</span><span class=p>;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// entry.js
</span><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;./content.js&#34;</span><span class=p>));</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!-- index.html --&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;bundle.js&#34;</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div><p>这里<code>entry.js</code>是入口文件，它加载了<code>content.js</code>。通过命令行对<code>entry.js</code>进行编译：</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>$ webpack ./entry.js bundle.js
</code></pre></div><p>打开<code>index.html</code>就会看到<code>content.js</code>中的内容已经被加载进来了。</p><p>Web开发中用到的不但有Javascript，还有CSS以及各种静态文件。Webpack定义了一种叫<a href=http://webpack.github.io/docs/using-loaders.html>加载器loader</a>的东西，它能够把各种资源文件进行转换，用正确的格式加载到浏览器中。比如对于上述程序，如果我们有一个对应的CSS文件：</p><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=c>/* style.css */</span>
<span class=nt>body</span> <span class=p>{</span>
  <span class=k>background</span><span class=p>:</span> <span class=kc>yellow</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>我们修改一下<code>entry.js</code>来加载该CSS：</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;!style!css!./style.css&#34;</span><span class=p>);</span>
<span class=nb>document</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;./content.js&#34;</span><span class=p>));</span>
</code></pre></div><p>然后再重新编译、打开<code>index.html</code>就可以看到CSS加载进来了。执行上述程序前我们必须安装所需的loader：</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>npm install --save-dev style-loader css-loader
</code></pre></div><p>在编译时，css-loader会读取CSS文件，并处理其中的import，返回CSS代码；而style-loader会将返回的CSS代码作为DOM的style。如果你用的是SASS，只要把require语句改成<code>require("!style!css!sass!./style.scss")</code>就可以了。</p><p>Webpack提供了很多<a href=http://webpack.github.io/docs/list-of-loaders.html>常见的loader</a>，开发的时候可以把用到的文件都require进来，生成一个单一的Javascript，便于发布。</p><p>上述require CSS的代码虽然功能强大，但写起来比较繁琐，Webpack支持在<a href=http://webpack.github.io/docs/using-loaders.html#configuration>配置文件中进行配置</a>，把符合条件的文件用同一组loader来进行处理。下面是我用的一组loader：</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=p>{</span>
  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>loaders</span><span class=o>:</span> <span class=p>[</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.coffee$/</span><span class=p>,</span> <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;coffee&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.html$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;html&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.json$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;json&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.scss$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer!sass&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.woff$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;url?limit=10000&amp;minetype=application/font-woff&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.ttf$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.eot$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.svg$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>}</span>
    <span class=p>]</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>有了上述配置，直接<code>require('./style.css')</code>就可以了，系统会自动先执行<a href=https://github.com/postcss/autoprefixer>autoprefixer</a>，然后加载CSS，然后再加载为DOM的style。</p><p>此外，Webpack还支持<a href=http://webpack.github.io/docs/list-of-plugins.html>插件</a>，实现对Javascript的压缩、替换等各种操作。</p><h3 id=依赖模块的管理>依赖模块的管理</h3><p>Webpack自己并不提供模块的下载，但它可以和已有的包管理器很好的配合。你可以用<a href=http://npmjs.org/>npm</a>、<a href=http://bower.io>Bower</a>、<a href=https://github.com/componentjs/component>component</a>等来管理你的Web开发资源，同时在Webpack中加载它们。</p><p>Webpack的文件加载分为三种：</p><ul><li>绝对路径，比如<code>require('/home/me/file')</code>。此时会首先检查目标是否为目录，如果是目录则检查<code>package.json</code>的<code>main</code>字段（你可以让Webpack同时<a href=http://webpack.github.io/docs/usage-with-bower.html>检查Bower的字段</a>）；如果没有<code>package.json</code>或者没有<code>main</code>字段，则会用<code>index</code>作为文件名。经过上述过程，我们解析到一个绝对路径的文件名，然后会尝试为其加上扩展名（扩展名可在<code>webpack.config.js</code>中设置），第一个存在的文件作为最终的结果。</li><li>相对路径，比如<code>require('./file')</code>。使用当前路径或配置文件中的<code>context</code>作为相对路径的目录。加载过程和绝对路径相似。</li><li>模块路径，如<code>require('module/lib/file')</code>。会在配置文件中的所有查找目录中查找。</li></ul><p>对于复杂的模块路径，还可以设置别名。一个路径解析配置的例子：</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=p>{</span>
  <span class=nx>resolve</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=p>[</span><span class=nx>appRoot</span><span class=p>,</span> <span class=nx>nodeRoot</span><span class=p>,</span> <span class=nx>bowerRoot</span><span class=p>],</span>
    <span class=nx>modulesDirectories</span><span class=o>:</span> <span class=p>[</span><span class=nx>appModuleRoot</span><span class=p>],</span>
    <span class=nx>alias</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;angular&#39;</span><span class=o>:</span> <span class=s1>&#39;angular/angular&#39;</span><span class=p>,</span>
      <span class=s1>&#39;lodash&#39;</span><span class=o>:</span> <span class=s1>&#39;lodash/dist/lodash&#39;</span>
    <span class=p>},</span>
    <span class=nx>extensions</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;.js&#39;</span><span class=p>,</span> <span class=s1>&#39;.coffee&#39;</span><span class=p>,</span> <span class=s1>&#39;.html&#39;</span><span class=p>,</span> <span class=s1>&#39;.css&#39;</span><span class=p>,</span> <span class=s1>&#39;.scss&#39;</span><span class=p>]</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=工具的集成>工具的集成</h3><p>Webpack能够和<a href=http://webpack.github.io/docs/usage-with-grunt.html>grunt</a>、<a href=http://webpack.github.io/docs/usage-with-gulp.html>gulp</a>、<a href=http://webpack.github.io/docs/usage-with-karma.html>karma</a>等已有工具很好地集成。</p><p>此外，除了输出单一文件，Webpack还支持<a href=http://webpack.github.io/docs/code-splitting.html>代码分割</a>、<a href=http://webpack.github.io/docs/multiple-entry-points.html>多入口</a>以及<a href=http://webpack.github.io/docs/hot-module-replacement-with-webpack.html>运行时模块替换</a>，是非常值得Web开发者关注的一个工具。</p><p>最后附上我的配置文件：</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// webpack.config.js
</span><span class=c1></span><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>webpack</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;webpack&#39;</span><span class=p>);</span>

<span class=kd>var</span> <span class=nx>appRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;app&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>appModuleRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;app/components&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>bowerRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;bower_components&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>nodeRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;node_modules&#39;</span><span class=p>);</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;app&#39;</span><span class=p>,</span>
  <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=s1>&#39;./app/assets&#39;</span><span class=p>),</span>
    <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;bundle.js&#39;</span><span class=p>,</span>
    <span class=nx>publicPath</span><span class=o>:</span> <span class=s1>&#39;/assets/&#39;</span>
  <span class=p>},</span>
  <span class=nx>resolve</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=p>[</span><span class=nx>appRoot</span><span class=p>,</span> <span class=nx>nodeRoot</span><span class=p>,</span> <span class=nx>bowerRoot</span><span class=p>],</span>
    <span class=nx>modulesDirectories</span><span class=o>:</span> <span class=p>[</span><span class=nx>appModuleRoot</span><span class=p>],</span>
    <span class=nx>alias</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;angular-ui-tree&#39;</span><span class=o>:</span> <span class=s1>&#39;angular-ui-tree/dist/&#39;</span><span class=p>,</span>
      <span class=s1>&#39;angular-date-range-picker&#39;</span><span class=o>:</span> <span class=s1>&#39;angular-date-range-picker/build/&#39;</span>
    <span class=p>},</span>
    <span class=nx>extensions</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;.js&#39;</span><span class=p>,</span> <span class=s1>&#39;.coffee&#39;</span><span class=p>,</span> <span class=s1>&#39;.html&#39;</span><span class=p>,</span> <span class=s1>&#39;.css&#39;</span><span class=p>,</span> <span class=s1>&#39;.scss&#39;</span><span class=p>]</span>
  <span class=p>},</span>
  <span class=nx>resolveLoader</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=nx>nodeRoot</span>
  <span class=p>},</span>
  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
    <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ProvidePlugin</span><span class=p>({</span>
      <span class=nx>_</span><span class=o>:</span> <span class=s1>&#39;lodash&#39;</span>
    <span class=p>}),</span>
    <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ResolverPlugin</span><span class=p>([</span>
      <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ResolverPlugin</span><span class=p>.</span><span class=nx>DirectoryDescriptionFilePlugin</span><span class=p>(</span><span class=s2>&#34;bower.json&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>])</span>
    <span class=p>])</span>
  <span class=p>],</span>
  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>loaders</span><span class=o>:</span> <span class=p>[</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.coffee$/</span><span class=p>,</span> <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;coffee&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.html$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;html&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.json$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;json&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.scss$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer!sass&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.woff$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;url?limit=10000&amp;minetype=application/font-woff&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.ttf$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.eot$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.svg$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>}</span>
    <span class=p>]</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div></p></article><aside class=comments><script src=https://utteranc.es/client.js repo=hanjianwei/hanjianwei.github.io issue-term=pathname label=✨💬✨comment theme=github-light crossorigin=anonymous async></script><div id=disqus_thread></div><script>var disqus_shortname='hjwblog';var disqus_identifier='\/2014\/09\/10\/webpack-package-manager-for-web\/';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></aside></div></main><footer>&copy; 2013 - 2020 Jianwei Han.
<a href=https://www.github.com/hanjianwei/hanjianwei.github.io/tree/hugo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2 43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8.0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6 144.1-135.1c5.1-4.7 5.1-12.8.0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg></a><a href=https://www.github.com/hanjianwei><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8.0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8.0-21.5 4.9-32.3 14.6-51.8 45.3.0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8.0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9.0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2.0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8.0-73.5 38.7-73.5 82.6.0 87.8 80.4 101.3 150.4 101.3h48.2c70.3.0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8.0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></a><a href=https://twitter.com/hanjianwei><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a><a href=mailto:blog@hanjianwei.com><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></a><a title="PGP Key" href="https://pgp.mit.edu/pks/lookup?op=get&search=0x309B79EC85BB7488"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="key" class="svg-inline--fa fa-key fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M512 176.001C512 273.203 433.202 352 336 352c-11.22.0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999.0 01261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255.0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999.0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"/></svg></a><a href=/index.xml><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328.0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765.0 183.105.0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686.0 38.981.0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></a></footer></div></body></html>