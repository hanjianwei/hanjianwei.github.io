<!doctype html><html lang=en-us><head><title>Webpack: ä¸ºWebå¼€å‘è€Œç”Ÿçš„æ¨¡å—ç®¡ç†å™¨ - Stone Horse</title><meta http-equiv=x-ua-compatible content="ie=edge"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://hanjianwei.com/style.css></head><body><div class=container><header><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Archives</a></li><li><a href=/tags>Tags</a></li></ul></nav></header><main><div class=post><article><h1>Webpack: ä¸ºWebå¼€å‘è€Œç”Ÿçš„æ¨¡å—ç®¡ç†å™¨</h1><time>Sep 10, 2014</time><p><p>å¯¹äºå¼€å‘äººå‘˜è€Œè¨€ï¼Œå¥½çš„åŒ…ç®¡ç†å™¨å¯ä»¥è®©å·¥ä½œäº‹åŠåŠŸå€ã€‚ç°åœ¨æµè¡Œçš„ç¼–ç¨‹è¯­è¨€å¤§å¤šæœ‰è‡ªå·±çš„<a href=http://blogs.atlassian.com/2014/04/git-project-dependencies/#GitAndProjectDependencies-Firstchoice:useanappropriatebuild/dependencytoolinsteadofgit>åŒ…ç®¡ç†ç³»ç»Ÿ</a>ã€‚è¿‘å¹´æ¥ï¼ŒWebå¼€å‘è¶Šæ¥è¶Šç«ï¼Œå…¶å¼€å‘å·¥å…·ä¹Ÿéšä¹‹è¶Šæ¥è¶Šå¥½ç”¨äº†ï¼Œè€Œ<a href=http://webpack.github.io>Webpack</a>å°±æ˜¯ä¸€æ¬¾ä¸“ä¸ºWebå¼€å‘è®¾è®¡çš„åŒ…ç®¡ç†å™¨ã€‚å®ƒèƒ½å¤Ÿå¾ˆå¥½åœ°ç®¡ç†ã€æ‰“åŒ…Webå¼€å‘ä¸­æ‰€ç”¨åˆ°çš„HTMLã€Javascriptã€CSSä»¥åŠå„ç§é™æ€æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰ï¼Œè®©å¼€å‘è¿‡ç¨‹æ›´åŠ é«˜æ•ˆã€‚</p><h3 id=æ¨¡å—åŒ–ç¼–ç¨‹>æ¨¡å—åŒ–ç¼–ç¨‹</h3><p>é•¿ä¹…ä»¥æ¥ï¼ŒWebå¼€å‘è€…éƒ½æ˜¯æŠŠæ‰€éœ€Javascriptã€CSSæ–‡ä»¶ä¸€è‚¡è„‘æ”¾è¿›HTMLé‡Œé¢ï¼Œå¯¹äºåºå¤§çš„é¡¹ç›®æ¥è¯´ç®¡ç†èµ·æ¥éå¸¸éº»çƒ¦ã€‚<a href=http://nodejs.org>Node.js</a>çš„å‡ºç°æ”¹å˜äº†è¿™ç§çŠ¶æ€ï¼Œè™½ç„¶Javascriptçš„æ¨¡å—å¹¶éNode.jså‘æ˜ï¼Œä½†ç¡®å®æ˜¯å®ƒæŠŠè¿™ä¸ªæ¦‚å¿µå‘æ‰¬å…‰å¤§äº†ã€‚</p><p>ä½†Node.jsæ¯•ç«Ÿæ˜¯ç”¨äºæœåŠ¡ç«¯çš„ï¼Œä¸ºäº†å°†æ¨¡å—åŒ–æŠ€æœ¯ç”¨äºæµè§ˆå™¨ï¼Œäººä»¬åˆé€ å‡ºäº†ä¸€å¤§å †å·¥å…·ï¼š<a href=http://requirejs.org>RequireJS</a>ã€<a href=http://browserify.org>Browserify</a>ã€<a href=http://labjs.com>LABjs</a>ã€<a href=http://seajs.org/docs/>Sea.js</a>ã€<a href=http://duojs.org>Duo</a>ç­‰ã€‚åŒæ—¶ï¼Œç”±äºJavascriptçš„æ ‡å‡†æ²¡æœ‰å¯¹æ¨¡å—çš„è§„èŒƒè¿›è¡Œå®šä¹‰ï¼Œäººä»¬åˆå®šä¹‰äº†ä¸€ç³»åˆ—ä¸åŒçš„æ¨¡å—å®šä¹‰ï¼š<a href=https://en.wikipedia.org/wiki/CommonJS>CommonJS</a>ã€<a href=https://github.com/amdjs/amdjs-api/wiki/AMD>AMD</a>ã€<a href=https://github.com/seajs/seajs/issues/242>CMD</a>ã€<a href=https://github.com/umdjs/umd>UMD</a>ç­‰ã€‚è¿™çœŸæ˜¯ä¸€ä»¶ä»¤äººæ‚²ä¼¤çš„äº‹æƒ…ï¼Œå¸Œæœ›ES6 Moduleçš„å‡ºç°èƒ½ä¸­æ­¢è¿™ç§åˆ†è£‚çš„çŠ¶æ€ã€‚</p><p>WebpackåŒæ—¶æ”¯æŒCommonJSå’ŒAMDå½¢å¼çš„æ¨¡å—ï¼Œå¯¹äºä¸æ”¯æŒçš„æ¨¡å—æ ¼å¼ï¼Œè¿˜æ”¯æŒå¯¹æ¨¡å—è¿›è¡Œ<a href=http://webpack.github.io/docs/shimming-modules.html>shimming</a>ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// content.js
</span><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=s2>&#34;It works from content.js.&#34;</span><span class=p>;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// entry.js
</span><span class=c1></span><span class=nb>document</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;./content.js&#34;</span><span class=p>));</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=c>&lt;!-- index.html --&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;bundle.js&#34;</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div><p>è¿™é‡Œ<code>entry.js</code>æ˜¯å…¥å£æ–‡ä»¶ï¼Œå®ƒåŠ è½½äº†<code>content.js</code>ã€‚é€šè¿‡å‘½ä»¤è¡Œå¯¹<code>entry.js</code>è¿›è¡Œç¼–è¯‘ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>$ webpack ./entry.js bundle.js
</code></pre></div><p>æ‰“å¼€<code>index.html</code>å°±ä¼šçœ‹åˆ°<code>content.js</code>ä¸­çš„å†…å®¹å·²ç»è¢«åŠ è½½è¿›æ¥äº†ã€‚</p><p>Webå¼€å‘ä¸­ç”¨åˆ°çš„ä¸ä½†æœ‰Javascriptï¼Œè¿˜æœ‰CSSä»¥åŠå„ç§é™æ€æ–‡ä»¶ã€‚Webpackå®šä¹‰äº†ä¸€ç§å«<a href=http://webpack.github.io/docs/using-loaders.html>åŠ è½½å™¨loader</a>çš„ä¸œè¥¿ï¼Œå®ƒèƒ½å¤ŸæŠŠå„ç§èµ„æºæ–‡ä»¶è¿›è¡Œè½¬æ¢ï¼Œç”¨æ­£ç¡®çš„æ ¼å¼åŠ è½½åˆ°æµè§ˆå™¨ä¸­ã€‚æ¯”å¦‚å¯¹äºä¸Šè¿°ç¨‹åºï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹åº”çš„CSSæ–‡ä»¶ï¼š</p><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=c>/* style.css */</span>
<span class=nt>body</span> <span class=p>{</span>
  <span class=k>background</span><span class=p>:</span> <span class=kc>yellow</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div><p>æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹<code>entry.js</code>æ¥åŠ è½½è¯¥CSSï¼š</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;!style!css!./style.css&#34;</span><span class=p>);</span>
<span class=nb>document</span><span class=p>.</span><span class=nx>write</span><span class=p>(</span><span class=nx>require</span><span class=p>(</span><span class=s2>&#34;./content.js&#34;</span><span class=p>));</span>
</code></pre></div><p>ç„¶åå†é‡æ–°ç¼–è¯‘ã€æ‰“å¼€<code>index.html</code>å°±å¯ä»¥çœ‹åˆ°CSSåŠ è½½è¿›æ¥äº†ã€‚æ‰§è¡Œä¸Šè¿°ç¨‹åºå‰æˆ‘ä»¬å¿…é¡»å®‰è£…æ‰€éœ€çš„loaderï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>npm install --save-dev style-loader css-loader
</code></pre></div><p>åœ¨ç¼–è¯‘æ—¶ï¼Œcss-loaderä¼šè¯»å–CSSæ–‡ä»¶ï¼Œå¹¶å¤„ç†å…¶ä¸­çš„importï¼Œè¿”å›CSSä»£ç ï¼›è€Œstyle-loaderä¼šå°†è¿”å›çš„CSSä»£ç ä½œä¸ºDOMçš„styleã€‚å¦‚æœä½ ç”¨çš„æ˜¯SASSï¼Œåªè¦æŠŠrequireè¯­å¥æ”¹æˆ<code>require("!style!css!sass!./style.scss")</code>å°±å¯ä»¥äº†ã€‚</p><p>Webpackæä¾›äº†å¾ˆå¤š<a href=http://webpack.github.io/docs/list-of-loaders.html>å¸¸è§çš„loader</a>ï¼Œå¼€å‘çš„æ—¶å€™å¯ä»¥æŠŠç”¨åˆ°çš„æ–‡ä»¶éƒ½requireè¿›æ¥ï¼Œç”Ÿæˆä¸€ä¸ªå•ä¸€çš„Javascriptï¼Œä¾¿äºå‘å¸ƒã€‚</p><p>ä¸Šè¿°require CSSçš„ä»£ç è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å†™èµ·æ¥æ¯”è¾ƒç¹çï¼ŒWebpackæ”¯æŒåœ¨<a href=http://webpack.github.io/docs/using-loaders.html#configuration>é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</a>ï¼ŒæŠŠç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ç”¨åŒä¸€ç»„loaderæ¥è¿›è¡Œå¤„ç†ã€‚ä¸‹é¢æ˜¯æˆ‘ç”¨çš„ä¸€ç»„loaderï¼š</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=p>{</span>
  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>loaders</span><span class=o>:</span> <span class=p>[</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.coffee$/</span><span class=p>,</span> <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;coffee&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.html$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;html&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.json$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;json&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.scss$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer!sass&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.woff$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;url?limit=10000&amp;minetype=application/font-woff&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.ttf$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.eot$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.svg$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>}</span>
    <span class=p>]</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>æœ‰äº†ä¸Šè¿°é…ç½®ï¼Œç›´æ¥<code>require('./style.css')</code>å°±å¯ä»¥äº†ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å…ˆæ‰§è¡Œ<a href=https://github.com/postcss/autoprefixer>autoprefixer</a>ï¼Œç„¶ååŠ è½½CSSï¼Œç„¶åå†åŠ è½½ä¸ºDOMçš„styleã€‚</p><p>æ­¤å¤–ï¼ŒWebpackè¿˜æ”¯æŒ<a href=http://webpack.github.io/docs/list-of-plugins.html>æ’ä»¶</a>ï¼Œå®ç°å¯¹Javascriptçš„å‹ç¼©ã€æ›¿æ¢ç­‰å„ç§æ“ä½œã€‚</p><h3 id=ä¾èµ–æ¨¡å—çš„ç®¡ç†>ä¾èµ–æ¨¡å—çš„ç®¡ç†</h3><p>Webpackè‡ªå·±å¹¶ä¸æä¾›æ¨¡å—çš„ä¸‹è½½ï¼Œä½†å®ƒå¯ä»¥å’Œå·²æœ‰çš„åŒ…ç®¡ç†å™¨å¾ˆå¥½çš„é…åˆã€‚ä½ å¯ä»¥ç”¨<a href=http://npmjs.org/>npm</a>ã€<a href=http://bower.io>Bower</a>ã€<a href=https://github.com/componentjs/component>component</a>ç­‰æ¥ç®¡ç†ä½ çš„Webå¼€å‘èµ„æºï¼ŒåŒæ—¶åœ¨Webpackä¸­åŠ è½½å®ƒä»¬ã€‚</p><p>Webpackçš„æ–‡ä»¶åŠ è½½åˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li>ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚<code>require('/home/me/file')</code>ã€‚æ­¤æ—¶ä¼šé¦–å…ˆæ£€æŸ¥ç›®æ ‡æ˜¯å¦ä¸ºç›®å½•ï¼Œå¦‚æœæ˜¯ç›®å½•åˆ™æ£€æŸ¥<code>package.json</code>çš„<code>main</code>å­—æ®µï¼ˆä½ å¯ä»¥è®©WebpackåŒæ—¶<a href=http://webpack.github.io/docs/usage-with-bower.html>æ£€æŸ¥Bowerçš„å­—æ®µ</a>ï¼‰ï¼›å¦‚æœæ²¡æœ‰<code>package.json</code>æˆ–è€…æ²¡æœ‰<code>main</code>å­—æ®µï¼Œåˆ™ä¼šç”¨<code>index</code>ä½œä¸ºæ–‡ä»¶åã€‚ç»è¿‡ä¸Šè¿°è¿‡ç¨‹ï¼Œæˆ‘ä»¬è§£æåˆ°ä¸€ä¸ªç»å¯¹è·¯å¾„çš„æ–‡ä»¶åï¼Œç„¶åä¼šå°è¯•ä¸ºå…¶åŠ ä¸Šæ‰©å±•åï¼ˆæ‰©å±•åå¯åœ¨<code>webpack.config.js</code>ä¸­è®¾ç½®ï¼‰ï¼Œç¬¬ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ä½œä¸ºæœ€ç»ˆçš„ç»“æœã€‚</li><li>ç›¸å¯¹è·¯å¾„ï¼Œæ¯”å¦‚<code>require('./file')</code>ã€‚ä½¿ç”¨å½“å‰è·¯å¾„æˆ–é…ç½®æ–‡ä»¶ä¸­çš„<code>context</code>ä½œä¸ºç›¸å¯¹è·¯å¾„çš„ç›®å½•ã€‚åŠ è½½è¿‡ç¨‹å’Œç»å¯¹è·¯å¾„ç›¸ä¼¼ã€‚</li><li>æ¨¡å—è·¯å¾„ï¼Œå¦‚<code>require('module/lib/file')</code>ã€‚ä¼šåœ¨é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰æŸ¥æ‰¾ç›®å½•ä¸­æŸ¥æ‰¾ã€‚</li></ul><p>å¯¹äºå¤æ‚çš„æ¨¡å—è·¯å¾„ï¼Œè¿˜å¯ä»¥è®¾ç½®åˆ«åã€‚ä¸€ä¸ªè·¯å¾„è§£æé…ç½®çš„ä¾‹å­ï¼š</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=p>{</span>
  <span class=nx>resolve</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=p>[</span><span class=nx>appRoot</span><span class=p>,</span> <span class=nx>nodeRoot</span><span class=p>,</span> <span class=nx>bowerRoot</span><span class=p>],</span>
    <span class=nx>modulesDirectories</span><span class=o>:</span> <span class=p>[</span><span class=nx>appModuleRoot</span><span class=p>],</span>
    <span class=nx>alias</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;angular&#39;</span><span class=o>:</span> <span class=s1>&#39;angular/angular&#39;</span><span class=p>,</span>
      <span class=s1>&#39;lodash&#39;</span><span class=o>:</span> <span class=s1>&#39;lodash/dist/lodash&#39;</span>
    <span class=p>},</span>
    <span class=nx>extensions</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;.js&#39;</span><span class=p>,</span> <span class=s1>&#39;.coffee&#39;</span><span class=p>,</span> <span class=s1>&#39;.html&#39;</span><span class=p>,</span> <span class=s1>&#39;.css&#39;</span><span class=p>,</span> <span class=s1>&#39;.scss&#39;</span><span class=p>]</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=å·¥å…·çš„é›†æˆ>å·¥å…·çš„é›†æˆ</h3><p>Webpackèƒ½å¤Ÿå’Œ<a href=http://webpack.github.io/docs/usage-with-grunt.html>grunt</a>ã€<a href=http://webpack.github.io/docs/usage-with-gulp.html>gulp</a>ã€<a href=http://webpack.github.io/docs/usage-with-karma.html>karma</a>ç­‰å·²æœ‰å·¥å…·å¾ˆå¥½åœ°é›†æˆã€‚</p><p>æ­¤å¤–ï¼Œé™¤äº†è¾“å‡ºå•ä¸€æ–‡ä»¶ï¼ŒWebpackè¿˜æ”¯æŒ<a href=http://webpack.github.io/docs/code-splitting.html>ä»£ç åˆ†å‰²</a>ã€<a href=http://webpack.github.io/docs/multiple-entry-points.html>å¤šå…¥å£</a>ä»¥åŠ<a href=http://webpack.github.io/docs/hot-module-replacement-with-webpack.html>è¿è¡Œæ—¶æ¨¡å—æ›¿æ¢</a>ï¼Œæ˜¯éå¸¸å€¼å¾—Webå¼€å‘è€…å…³æ³¨çš„ä¸€ä¸ªå·¥å…·ã€‚</p><p>æœ€åé™„ä¸Šæˆ‘çš„é…ç½®æ–‡ä»¶ï¼š</p><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript><span class=c1>// webpack.config.js
</span><span class=c1></span><span class=kd>var</span> <span class=nx>path</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;path&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>webpack</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;webpack&#39;</span><span class=p>);</span>

<span class=kd>var</span> <span class=nx>appRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;app&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>appModuleRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;app/components&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>bowerRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;bower_components&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>nodeRoot</span> <span class=o>=</span> <span class=nx>path</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=nx>__dirname</span><span class=p>,</span> <span class=s1>&#39;node_modules&#39;</span><span class=p>);</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;app&#39;</span><span class=p>,</span>
  <span class=nx>output</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>path</span><span class=o>:</span> <span class=nx>path</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=s1>&#39;./app/assets&#39;</span><span class=p>),</span>
    <span class=nx>filename</span><span class=o>:</span> <span class=s1>&#39;bundle.js&#39;</span><span class=p>,</span>
    <span class=nx>publicPath</span><span class=o>:</span> <span class=s1>&#39;/assets/&#39;</span>
  <span class=p>},</span>
  <span class=nx>resolve</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=p>[</span><span class=nx>appRoot</span><span class=p>,</span> <span class=nx>nodeRoot</span><span class=p>,</span> <span class=nx>bowerRoot</span><span class=p>],</span>
    <span class=nx>modulesDirectories</span><span class=o>:</span> <span class=p>[</span><span class=nx>appModuleRoot</span><span class=p>],</span>
    <span class=nx>alias</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;angular-ui-tree&#39;</span><span class=o>:</span> <span class=s1>&#39;angular-ui-tree/dist/&#39;</span><span class=p>,</span>
      <span class=s1>&#39;angular-date-range-picker&#39;</span><span class=o>:</span> <span class=s1>&#39;angular-date-range-picker/build/&#39;</span>
    <span class=p>},</span>
    <span class=nx>extensions</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=s1>&#39;.js&#39;</span><span class=p>,</span> <span class=s1>&#39;.coffee&#39;</span><span class=p>,</span> <span class=s1>&#39;.html&#39;</span><span class=p>,</span> <span class=s1>&#39;.css&#39;</span><span class=p>,</span> <span class=s1>&#39;.scss&#39;</span><span class=p>]</span>
  <span class=p>},</span>
  <span class=nx>resolveLoader</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>root</span><span class=o>:</span> <span class=nx>nodeRoot</span>
  <span class=p>},</span>
  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
    <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ProvidePlugin</span><span class=p>({</span>
      <span class=nx>_</span><span class=o>:</span> <span class=s1>&#39;lodash&#39;</span>
    <span class=p>}),</span>
    <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ResolverPlugin</span><span class=p>([</span>
      <span class=k>new</span> <span class=nx>webpack</span><span class=p>.</span><span class=nx>ResolverPlugin</span><span class=p>.</span><span class=nx>DirectoryDescriptionFilePlugin</span><span class=p>(</span><span class=s2>&#34;bower.json&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>])</span>
    <span class=p>])</span>
  <span class=p>],</span>
  <span class=nx>module</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>loaders</span><span class=o>:</span> <span class=p>[</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.coffee$/</span><span class=p>,</span> <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;coffee&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.html$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;html&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.json$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;json&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.css$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.scss$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s1>&#39;style!css!autoprefixer!sass&#39;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.woff$/</span><span class=p>,</span>   <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;url?limit=10000&amp;minetype=application/font-woff&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.ttf$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.eot$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>},</span>
      <span class=p>{</span><span class=nx>test</span><span class=o>:</span> <span class=sr>/\.svg$/</span><span class=p>,</span>    <span class=nx>loader</span><span class=o>:</span> <span class=s2>&#34;file&#34;</span><span class=p>}</span>
    <span class=p>]</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div></p></article><aside class=comments><script src=https://utteranc.es/client.js repo=hanjianwei/hanjianwei.github.io issue-term=pathname label=âœ¨ğŸ’¬âœ¨comment theme=github-light crossorigin=anonymous async></script><div id=disqus_thread></div><script>var disqus_shortname='hjwblog';var disqus_identifier='\/2014\/09\/10\/webpack-package-manager-for-web\/';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script></aside></div></main><footer>&copy; 2013 - 2020 Jianwei Han.
<a href=https://www.github.com/hanjianwei/hanjianwei.github.io/tree/hugo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2 43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8.0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6 144.1-135.1c5.1-4.7 5.1-12.8.0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg></a><a href=https://www.github.com/hanjianwei><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8.0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8.0-21.5 4.9-32.3 14.6-51.8 45.3.0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8.0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9.0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2.0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8.0-73.5 38.7-73.5 82.6.0 87.8 80.4 101.3 150.4 101.3h48.2c70.3.0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8.0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg></a><a href=https://twitter.com/hanjianwei><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a><a href=mailto:blog@hanjianwei.com><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></a><a title="PGP Key" href="https://pgp.mit.edu/pks/lookup?op=get&search=0x309B79EC85BB7488"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="key" class="svg-inline--fa fa-key fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M512 176.001C512 273.203 433.202 352 336 352c-11.22.0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999.0 01261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255.0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999.0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"/></svg></a><a href=/index.xml><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328.0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765.0 183.105.0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686.0 38.981.0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></a></footer></div></body></html>